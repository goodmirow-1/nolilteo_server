# 놀일터 서버

직장인들을 위한 시간, Hot 기능이 포함된 커뮤니티 프로젝트 입니다.

# 목차

-   [요약](#요약)
-   [주요 기능](#주요기능)
-   [트러블 슈팅](#트러블슈팅)
    -   [실시간 및 Hot 게시글 성능 문제 해결](#실시간-및-Hot-게시글-성능-문제-해결)

# 요약

- 비회원과 회원 모두 이용할 수 있으며, 회원가입 유형은 카카오, 구글, 애플, 네이버가 있습니다.
- 비회원은 게시글 확인만 가능합니다.
- 메인 페이지에서는 인기, 최신, hot 게시글을 피드 형태로 확인할 수 있습니다.
- 사용자는 마음에 드는 카테고리와 태그를 등록할 수 있습니다.
- 카테고리와 태그를 클릭 시 관련 게시글들을 확인할 수 있습니다.
- 게시글에는 좋아요와 댓글, 대댓글 기능이 포함되어 있습니다.
- 알림 페이지를 통해 활동 내역과 게시글에 대한 반응을 확인할 수 있습니다.
- wbti 설문을 통해 사용자의 직장 내 성향을 확인할 수 있습니다.

# 주요기능

- **회원가입**
    - 카카오, 구글, 애플, 네이버를 통한 회원가입이 가능해야 함
    - 비회원은 게시글 확인만 가능
- **wbti 설문 시스템**
    - 사용자의 직장 내 성향을 파악할 수 있는 wbti 설문 시스템을 제공
- **인기, hot 게시글 시스템**
    - 메인 페이지에서 인기, 최신, hot 게시글을 피드 형태로 제공
- **피드 형태의 게시글(태그, 카테고리, 관심 등록)**
    - 사용자는 마음에 드는 카테고리와 태그를 등록할 수 있으며, 이를 통해 관련 게시글을 확인 가능
- **좋아요, 댓글, 대댓글 기능이 포함된 커뮤니티**
    - 게시글에 좋아요, 댓글, 대댓글 기능을 제공하여 사용자 간 상호작용을 유도
- **사용자에 대한 신고 시스템**
    - 부적절한 사용자를 신고할 수 있는 시스템을 제공
- **세부적인 알림 조정 시스템**
    - 사용자가 활동 내역과 게시글 반응에 대한 알림을 세부적으로 조정할 수 있음

# 트러블슈팅

## 실시간 및 Hot 게시글 성능 문제 해결

**문제 상황:** 
사용자가 증가함에 따라 실시간 및 Hot 게시글의 응답 속도가 느려 사용자 접근성 저하 및 전체 사용자 경험 저하 발생.

**원인 분석:**
문제의 근본 원인은 실시간/인기 게시글 기능 구현 방식에 있었습니다.
1. 잦은 DB 조회: 실시간/인기 게시글 목록을 생성하기 위해 매번 MariaDB에 쿼리를 실행하여 최신 데이터를 가져왔습니다. 이로 인해 DB에 부하가 가중되고 응답 속도가 지연되었습니다.
2. 데이터 중복 조회: 동일한 사용자가 짧은 시간 내에 여러 번 실시간/인기 게시글 목록을 조회하는 경우에도 매번 DB 조회가 발생하여 불필요한 자원 낭비가 발생했습니다.

**해결 과정:** 
문제 해결을 위해 Redis를 활용한 캐싱 전략을 도입했습니다.
1. Redis 도입: In-memory 데이터 저장소인 Redis를 도입하여 실시간/인기 게시글 데이터를 캐싱했습니다.
2. 캐싱 전략 구현: 실시간/인기 게시글 목록을 Redis에 저장하고, 일정 시간 동안 캐시 데이터를 유지하도록 설정했습니다. 캐시 데이터가 유효한 경우에는 DB 조회 없이 Redis에서 데이터를 가져와 응답 속도를 향상시켰습니다.
3. 캐시 무효화: 게시글 작성, 수정, 삭제 등 데이터 변경이 발생하면 해당 데이터와 관련된 캐시를 삭제하여 데이터 일관성을 유지했습니다.

**결과:**
Redis를 활용한 캐싱 전략 도입 후 다음과 같은 효과를 얻었습니다.
* 정량적 지표 개선:
    * 응답 속도: 실시간/인기 게시글 목록 조회 시 평균 응답 시간이 1000ms 250ms로 75% 감소했습니다.
    * DB 조회 횟수: 실시간/인기 게시글 관련 DB 조회 횟수가 90% 감소했습니다.
    * Redis 캐시 히트율: 평균 95% 이상의 캐시 히트율을 달성하여 캐싱 전략의 효율성을 입증했습니다.
* 정성적 지표 개선:
    * 사용자 경험 향상: 실시간/인기 게시글 목록 로딩 속도가 눈에 띄게 빨라져 사용자 만족도가 높아졌습니다.
    * 서버 부하 감소: DB 부하 감소로 인해 서버 자원 사용량이 줄어들어 안정적인 서비스 운영이 가능해졌습니다.
    * 
**결론:** 
Redis를 활용한 캐싱 전략 도입을 통해 실시간/인기 게시글 기능의 성능 문제를 성공적으로 해결했습니다. 잦은 DB 조회로 인한 부하를 줄이고 응답 속도를 획기적으로 개선하여 사용자 경험을 향상시키고 서버 안정성을 확보했습니다.
